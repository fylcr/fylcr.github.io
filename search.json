[{"title":"btfs的价格报价器终于管用了","url":"/posts/9073/","content":"btfs最近几天更新到了4.0,终于把报价器修好了而且价格比半个月前降了一点,之前差不多$3TB&#x2F;月,现在差不多$2.25TB&#x2F;月。按照tron对btfs的重视程度和btfs的ui出bug的频率,这确实是一个好消息。\n","categories":["technology"],"tags":["btfs","technology"]},{"title":"我的第一个blog","url":"/posts/acec/","content":"对,这就是我的第一个blog。\n\n之后的内容之后再说吧。\n\n","categories":["daily"],"tags":["daily"]},{"title":"godot游戏开发随手记(1)","url":"/posts/46e8/","content":"还在上高中时就已经想用godot做出这个游戏了,现在就慢慢的实现吧。\n\n由于不能透漏游戏设定,所以我接下来说一说整个游戏开发遇到的技术问题和解决方案。\n\n你可以看看这个视频,一个相似的游戏\n\n本人的godot版本为4.4.1稳定版,可能有些地方因为版本的问题不一样如果你有更好的解决方案,欢迎在评论区留言,谢谢。\n\n一、多窗口渲染同一个世界godot是为数不多的支持多窗口的游戏引擎。在GitHub有一个Godot多窗口渲染同一个世界的仓库,这个仓库的作者已经实现了多窗口渲染同一个世界。让我们看一看大佬的操作。\n我们先打开项目-&gt;项目设置-&gt;窗口-&gt;高级设置,之后找到子窗口,将嵌入式子窗口的启用关闭。\n\n创建Node的子节点Camera2D,之后在main.gd文件里写入以下代码:\nextends Node # 你可以将这个节点改成任意节点@onready var _Camera: Camera2D = $Camera2Dfunc _process(delta: float) -&gt; void:\t_Camera.position = get_window().position\n\n这样就会让相机随着窗口移动而移动。但是在执行_process()方法前窗口位置会变化,这样就会导致轻微的延迟,使得窗口移动时场景会产生抖动。\n\n这貌似没有什么好的解决方案。如果你有什么好的解决方案,欢迎在评论区留言,谢谢。\n\n让我们新建ViewWindow.gd文件,写入以下代码:\n","categories":["technology"],"tags":["technology","godot"]},{"title":"我的文件存储方案","url":"/posts/594a/","content":"先看看我的存储方案有哪些,再在实际场景中分析优劣。\n一、各种存储方案与报价1.storj\n注意:storj上传文件会加密,文件体积会变大,增加大小约为0.1%。\n\n(1)价格storj升级为V3后收费系统有些奇怪,想看官网文档的可以点这个链接,下面是详细的解释。\n\n存储费\n\n存储费的计算方法与传统存储服务相似,按照占用空间大小和时间收费。在storj上,最小的文件大小计费单位为字节,时间为小时。\n官网给出的价格为每月每 GB 0.004 USD,也就是每月每 TB 4 美元。官网给了一个例子:用户上传了一个 1TB 的文件。当月过半时，用户删除了该文件。使用加密开销时，文件存储为 1.001TB。1.001TB 相当于 1,001,000,000,000 字节。该文件将存储 360 小时。该文件的存储时间为 360,360,000,000,000 字节小时。在此示例中，每月每 GB 的价格为 0.004 USD，每 GB 小时的价格为 0.000005556 USD。每字节小时的价格为 0.00000000000000005556 美元。存储费用总额为 2.00 USD。\n\n流量费\n\nstorj不计上传费,只计下载费。同样的,storj下载费的文件大小最小单位为字节。\n官网给出的价格为每 GB 0.007 USD,也就是每 TB 7 美元。但是storj的下载机制是存储文件的80个节点中的29个会直接传输分段,所以会有些节点重复传输,这些重复传输的文件大小也会计算在下载费中,叫长尾消除。长尾消除最多会增加30%的下载费。\n官网也给了一个例子:用户下载一个 1 TB 的文件。基于长尾消除，最多可以使用 1.3 TB 的下载带宽。1.3 TB 的下载带宽占 1,300,000,000 字节。在此示例中，每 GB 的价格为 0.007 USD，每字节的价格为 0.000000045 USD。对出口收取的总金额为 9.10 USD。\n\n分段费\n\n这个就是storj存储计费的特殊之处。storj会自动将文件分段,分段后每个分段都会单独计费,每个段的费用为每月每个段 0.0000088 USD。同样的,每个段的存储时间的最小单位为小时。\nstorj默认分段大小为64MB,但是分段的大小用户是可以修改的,可以分的比64MB小,也可以比64MB大。实际上,我建议把分段大小设的大一些,这样分段费就可以少一点,并且还会降低长尾消除\n(2)传输速度由于storj在亚洲节点(尤其是中国)比较少,所以storj在国内的上传速度比较慢,但是下载速度还是可以的。根据网上测试的数据,storj在亚洲的上传速度为1MB&#x2F;s-2MB&#x2F;s,下载速度为7MB&#x2F;s-8MB&#x2F;s。(数据来源)\n但是storj在新加坡的上传速度就比较快了,上传速度为17MB&#x2F;s-18MB&#x2F;s,下载速度为9MB&#x2F;s-10MB&#x2F;s。(数据来源)\n\n本人测试结果:上传速度为500KB&#x2F;s-3MB&#x2F;s,下载速度为3MB&#x2F;s-11MB&#x2F;s。\n\n(3)稳定性storj会进行2.7倍的冗余备份,所以稳定性还是可以的。根据网上的数据,storj在5年左右的时间里,存储了1亿多的文件,没有出现过一次数据丢失的情况。(数据来源)\n(4)其他storj在注册账号时会根据服务地区注册,建议亚洲地区的注册在AP节点,AP节点注册地址\n\n最近几天发现storj的官网被墙了。如果要用cloudflare的反代的话,请你自行判断要注册的地区。\n\n2.btfs\nbtfs有一个官方的S3服务,叫做Storage3,之后会介绍。\n\n(1)价格\n存储费\n\nbtfs的存储价格是固定的(按照wbtt算),官方给出的价格为125 WBTT（GB&#x2F;天）(数据来源)。换算成美元,大约为$2.3&#x2F;TB&#x2F;月。具体的价格可以用官方的价格计算器计算。2. 流量费\n无论使用btfs节点还是官方的网关都没有流量费。\n(2)传输速度未测试,根据传输原理,下载和上传速度与种子的传输速度差不多.\n(3)稳定性btfs会进行数据的冗余备份,稳定性有一定的保障。但是目前网络上btfs的测评比较少,所以稳定性如何还不好说。\n3.Storage3\nStorage3是btfs官方的S3服务,可以用来存储文件。\n\n(1)价格\n存储费\n\nstorage3是一次性购买永久容量的,每个账户有5GB的免费容量。想要增加容量就要购买Storage3的NFT,相关信息在下表或查看官方文档\n\n\n\n级别\n存储容量\n价格\n\n\n\nP级\n150GB\n$684.02\n\n\nT级\n100GB\n$82.08\n\n\nG级\n50GB\n$41.04\n\n\n2. 流量费\n\n\n\n\n使用btfs官方的网关,没有流量费。\n(2)传输速度上传300KB&#x2F;s-400KB&#x2F;s,下载700KB&#x2F;s-1.5MB&#x2F;s。\n3. filecoin(1)价格\n存储费\n\nfilecoin的存储价格是按照存储的文件大小和存储时间来计算的,价格是在提交存储订单时矿工会进行报价。由于每个矿工报价不一样,而且现在filecoin的存储市场竞争十分激烈,所以价格波动很大,据说不同的矿工之间报价甚至能达到100倍。不过按照目前的情况来看,大概率在每月每TB $0.7-$3.1。(数据来自网络,本人并未测试)\n\n流量费\n\n大多数情况下,filecoin节点也是ipfs节点。如果通过ipfs下载文件就不会有流量费。但是如果通过filecoin节点下载文件,那么就会产生流量费。(上传不知道,但应该不会有流量费)\n(2)传输速度如果通过filecoin的存储节点的话,那么传输速度取决于你的网速和矿工的能力。速度波动很大,网上用户有测到传输速度达到几十M&#x2F;s的,也有测到传输速度只有几KB&#x2F;s的。\n(3)稳定性由于filcoin的存储靠用户自己选择备份数,所以稳定性无法保证。(即使filecoin对于节点意外下线会进行严厉的处罚,但是还是无法保证节点的稳定性。)\n(4)其他建议选择能力强的矿工,这样你的文件存储的稳定性会高一些。可以在filfox和filscan查看矿工的排名。\n4. Backblaze B2 + Cloudflare(1)价格\n存储费\n\n$6&#x2F;TB&#x2F;月\n\n流量费\n\n如果你使用cloudflare CDN,那么流量费是免费的。\n(2)传输速度取决于你的网速。但是出于cloudflare和GFW微妙的关系,实际上延迟会很大。\n(3)稳定性很多人都在用,就这样。\n5. siacoin(1)价格\n存储费\n\nsia的存储价格取决于节点报价,现在市场的平均值为$0.68&#x2F;TB&#x2F;月。你可以在Host Browser寻找你能接受的报价的节点。\n\nsia会默认3倍冗余\n\n\n流量费\n\nsia的流量价格取决于节点报价,现在市场的平均值为上传$$0.07&#x2F;TB,下载$2.48&#x2F;TB。你可以在Host Browser寻找你能接受的报价的节点。\n(2)传输速度取决节点的网速,可以在Host Browser查看节点的网速。大多数的节点上传为2-5MB&#x2F;s,下载为10-14MB&#x2F;s。\n(3)稳定性虽然sia作为最早的去中心化存储方案之一,并且有较多节点,但是稳定性还是有点问题。\n6. GitHub Container Registry(简称:GHCR)(1)价格使用公共的GHCR,没有任何费用。\n(2)传输速度取决于你的网速和连接的节点\n(3)稳定性未测试\n7.其他\n这里是未研究的存储方案autonomi\n\n二、实际情况下的分析与比较我们按照存储50TB,下载流量1PB,上传流量50TB来考虑每月的情况。\n\n\n\n排名\n方案\n存储费\n下载费\n上传费\n总费用（USD）\n成本说明\n下载速度&#x2F;稳定性\n适合场景\n备注\n\n\n\n🥇 1\nBTFS （去中心化）\n50 TB × 2.3 $&#x2F;TB &#x3D; 115\n免费\n免费\n≈115 &#x2F; 月\n存储 2.3$&#x2F;TB，上传&#x2F;下载免费\n中等（BTFS 依赖网关）\n低成本、可接受较慢速度\n存储基于 WBTT，流量免费；速度和稳定性取决节点，尚无大规模测试数据\n\n\n🥈 2\nBackblaze B2 + Cloudflare\n50 TB × 6 $&#x2F;TB &#x3D; 300\nCDN 加速后免费\n免费\n≈300 &#x2F; 月\n存储 6$&#x2F;TB，流量走 Cloudflare 免费\n高，企业级稳定性\n商业用途&#x2F;对速度稳定性要求较高\n业界成熟，稳定性高；大陆访问延迟受 GFW 影响\n\n\n🥉 3\nFilecoin (矿工报价平均)\n50 TB × (0.7–3.1 $&#x2F;TB)&#x3D; 35–155\n通常可走 IPFS 免费；若直接走 Filecoin 网络，则视矿工策略\n一般免费\n≈35–155 &#x2F; 月\n矿工定价差异大，下载可能免费（IPFS 网关）\n波动大\n技术熟练用户，价格敏感\n价格波动大，需择优选矿工；下载路径决定是否收费\n\n\n4\nSiacoin\n3 × 50 TB × 0.68 $&#x2F;TB &#x3D; 102\n1024 TB × 2.48 $&#x2F;TB &#x3D; 2 539.5\n50 TB × 0.07 $&#x2F;TB &#x3D; 3.5\n≈2 645 &#x2F; 月\n存储便宜但下载费用高（1PB ≈ 2 540 $）\n中上（节点依赖）\n可接受下载成本，较懂技术\n默认 3×冗余；节点报价机制；速度、稳定性依节点质量而异\n\n\n5\nStorage3 (永久容量 NFT)\n一次性购买：50 GB≈41.04 $ × 1024 ≈ 42025\n免费\n免费\n≈41 040 &#x2F; 一次性\n一次性永久买断容量，无额外费用\n一般（依 BTFS 网关）\n预算充足、长期归档型需求\n永久拥有，无月费；不可拆分；上传&#x2F;下载走 BTFS 官方网关免费\n\n\n6\nStorj (默认 64 MB 分段)\n50 TB × 4 $&#x2F;TB + 50 TB&#x2F;64 MB×0.0000088 $&#x2F;段 ≈ 200 + 7040 &#x3D; 7240\n1024 TB × 7 $&#x2F;TB × 1.3 &#x3D; 9 337.6\n免费\n≈16577.6 &#x2F; 月\n下载贵（7$&#x2F;TB×1.3），存储含分段费\n高，但亚洲少节点\n预算无压力、极度重视冗余和可靠性\n分段费已合并到存储费中\n\n\n—\nGHCR (公共 Registry)\n免费\n免费\n免费\n0\n免费\n免费\n适合白嫖用户,但注意,可能之后会像E5那样\n非传统对象存储，不建议用于大容量文件，并做好备份\n\n\n请你根据你的需求，选择合适的存储方案。\n\n最后,如果你有更好的方案,欢迎在评论区留言,我会及时更新。\n\n","categories":["technology"],"tags":["technology","storage"]}]